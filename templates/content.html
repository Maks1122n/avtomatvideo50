<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º - MediaFlux Hub</title>
    <link rel="stylesheet" href="/static/css/main.css">
</head>
<body>
    <div class="dashboard">
        <!-- –ö—Ä–∞—Å–∏–≤–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è –∫–∞–∫ –≤ dashboard -->
        <nav class="sidebar">
            <div class="logo">
                <span class="logo-icon">üì±</span>
                <span class="logo-text">MediaFlux Hub</span>
            </div>
            
            <ul class="nav-menu">
                <li>
                    <a href="/" class="nav-link">
                        <span class="nav-icon">üìä</span>
                        Dashboard
                    </a>
                </li>
                <li>
                    <a href="/accounts" class="nav-link">
                        <span class="nav-icon">üë•</span>
                        –ê–∫–∫–∞—É–Ω—Ç—ã
                        <span class="nav-badge">3</span>
                    </a>
                </li>
                <li>
                    <a href="/content" class="nav-link active">
                        <span class="nav-icon">üìÅ</span>
                        –ö–æ–Ω—Ç–µ–Ω—Ç
                        <span class="nav-badge">156</span>
                    </a>
                </li>
                <li>
                    <a href="/schedule" class="nav-link">
                        <span class="nav-icon">üìÖ</span>
                        –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫
                    </a>
                </li>
                <li>
                    <a href="/analytics" class="nav-link">
                        <span class="nav-icon">üìà</span>
                        –ê–Ω–∞–ª–∏—Ç–∏–∫–∞
                    </a>
                </li>
                <li>
                    <a href="/proxies" class="nav-link">
                        <span class="nav-icon">üõ°Ô∏è</span>
                        –ü—Ä–æ–∫—Å–∏
                        <span class="nav-badge">‚Äî</span>
                    </a>
                </li>
                <li>
                    <a href="/settings" class="nav-link">
                        <span class="nav-icon">‚öôÔ∏è</span>
                        –ù–∞—Å—Ç—Ä–æ–π–∫–∏
                    </a>
                </li>
            </ul>
        </nav>

        <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
        <div class="main-content">
            <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å—Ç—Ä–∞–Ω–∏—Ü—ã -->
            <div class="page-header">
                <h1 class="page-title">
                    üìÅ –£–ü–†–ê–í–õ–ï–ù–ò–ï –ö–û–ù–¢–ï–ù–¢–û–ú - –†–ê–ë–û–ß–ò–ï –ö–ù–û–ü–ö–ò!
                </h1>
                <p class="page-subtitle">–ó–∞–≥—Ä—É–∂–∞–π—Ç–µ –∏ –æ—Ä–≥–∞–Ω–∏–∑—É–π—Ç–µ –≤–∏–¥–µ–æ –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏</p>
            </div>

            <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
            <div id="successMessage" style="background: #10b981; color: white; padding: 15px; border-radius: 8px; margin: 10px 0; display: none;"></div>
            <div id="errorMessage" style="background: #ef4444; color: white; padding: 15px; border-radius: 8px; margin: 10px 0; display: none;"></div>

            <!-- –°–µ–∫—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ -->
            <div class="content-section">
                <h2 class="section-title">üì§ –ó–ê–ì–†–£–ó–ò–¢–¨ –í–ò–î–ï–û</h2>
                
                <div style="border: 3px dashed var(--primary-color); background: var(--bg-primary); padding: 40px; text-align: center; border-radius: 15px; margin: 20px 0; cursor: pointer;" 
                     id="uploadZone" onclick="document.getElementById('videoFiles').click()">
                    <h3 style="color: var(--primary-color); margin: 0 0 20px 0;">üì§ –ó–ê–ì–†–£–ó–ò–¢–¨ –í–ò–î–ï–û</h3>
                    <p style="color: white; font-size: 18px; margin: 10px 0;">–ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ –≤–∏–¥–µ–æ —Å—é–¥–∞ –∏–ª–∏ –Ω–∞–∂–º–∏—Ç–µ –¥–ª—è –≤—ã–±–æ—Ä–∞</p>
                    
                    <input type="file" id="videoFiles" multiple accept="video/mp4,video/mov,video/avi" style="display: none;">
                    
                    <div style="margin: 20px 0;">
                        <label style="color: white; margin-right: 15px;">–ö–∞—Ç–µ–≥–æ—Ä–∏—è:</label>
                        <select id="videoCategory" style="padding: 10px; border-radius: 8px; background: #1a1f2e; color: white; border: 2px solid var(--primary-color);">
                            <option value="motivation">üî• –ú–æ—Ç–∏–≤–∞—Ü–∏—è</option>
                            <option value="lifestyle">‚ú® –õ–∞–π—Ñ—Å—Ç–∞–π–ª</option>
                            <option value="business">üíº –ë–∏–∑–Ω–µ—Å</option>
                            <option value="entertainment">üéâ –†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è</option>
                        </select>
                    </div>
                    
                    <button class="btn-enhanced" onclick="document.getElementById('videoFiles').click()">
                        üì§ –í–´–ë–†–ê–¢–¨ –§–ê–ô–õ–´
                    </button>
                    
                    <button class="btn-enhanced" onclick="loadFolders()">
                        üîÑ –û–ë–ù–û–í–ò–¢–¨ –ü–ê–ü–ö–ò
                    </button>
                </div>
            </div>

            <!-- –ü–∞–ø–∫–∏ —Å –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º -->
            <div class="content-section">
                <h2 class="section-title">üìÇ –ü–ê–ü–ö–ò –° –ö–û–ù–¢–ï–ù–¢–û–ú</h2>
                
                <div class="card-grid" id="foldersContainer">
                    <!-- –ü–∞–ø–∫–∞ –º–æ—Ç–∏–≤–∞—Ü–∏—è -->
                    <div class="enhanced-card">
                        <div class="card-header">
                            <div class="card-icon">üî•</div>
                            <h3 class="card-title">–ú–û–¢–ò–í–ê–¶–ò–Ø</h3>
                        </div>
                        <div class="card-stats">
                            <div class="card-stat">
                                <span>–í–∏–¥–µ–æ:</span>
                                <span class="card-stat-value">45</span>
                            </div>
                            <div class="card-stat">
                                <span>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ:</span>
                                <span class="card-stat-value">23</span>
                            </div>
                            <div class="card-stat">
                                <span>–†–∞–∑–º–µ—Ä:</span>
                                <span class="card-stat-value">2.1 GB</span>
                            </div>
                            <div class="card-stat">
                                <span>–û–±–Ω–æ–≤–ª–µ–Ω–æ:</span>
                                <span class="card-stat-value">2 —á–∞—Å–∞ –Ω–∞–∑–∞–¥</span>
                            </div>
                        </div>
                        <div class="card-actions">
                            <button class="btn-enhanced" onclick="viewFolder('motivation')">
                                üëÅÔ∏è –ü–†–û–°–ú–û–¢–†
                            </button>
                            <button class="btn-secondary-enhanced" onclick="manageFolder('motivation')">
                                ‚öôÔ∏è –£–ü–†–ê–í–õ–ï–ù–ò–ï
                            </button>
                        </div>
                    </div>

                    <!-- –ü–∞–ø–∫–∞ –ª–∞–π—Ñ—Å—Ç–∞–π–ª -->
                    <div class="enhanced-card">
                        <div class="card-header">
                            <div class="card-icon">‚ú®</div>
                            <h3 class="card-title">–õ–ê–ô–§–°–¢–ê–ô–õ</h3>
                        </div>
                        <div class="card-stats">
                            <div class="card-stat">
                                <span>–í–∏–¥–µ–æ:</span>
                                <span class="card-stat-value">38</span>
                            </div>
                            <div class="card-stat">
                                <span>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ:</span>
                                <span class="card-stat-value">15</span>
                            </div>
                            <div class="card-stat">
                                <span>–†–∞–∑–º–µ—Ä:</span>
                                <span class="card-stat-value">1.8 GB</span>
                            </div>
                            <div class="card-stat">
                                <span>–û–±–Ω–æ–≤–ª–µ–Ω–æ:</span>
                                <span class="card-stat-value">1 –¥–µ–Ω—å –Ω–∞–∑–∞–¥</span>
                            </div>
                        </div>
                        <div class="card-actions">
                            <button class="btn-enhanced" onclick="viewFolder('lifestyle')">
                                üëÅÔ∏è –ü–†–û–°–ú–û–¢–†
                            </button>
                            <button class="btn-secondary-enhanced" onclick="manageFolder('lifestyle')">
                                ‚öôÔ∏è –£–ü–†–ê–í–õ–ï–ù–ò–ï
                            </button>
                        </div>
                    </div>

                    <!-- –ü–∞–ø–∫–∞ –±–∏–∑–Ω–µ—Å -->
                    <div class="enhanced-card">
                        <div class="card-header">
                            <div class="card-icon">üíº</div>
                            <h3 class="card-title">–ë–ò–ó–ù–ï–°</h3>
                        </div>
                        <div class="card-stats">
                            <div class="card-stat">
                                <span>–í–∏–¥–µ–æ:</span>
                                <span class="card-stat-value">29</span>
                            </div>
                            <div class="card-stat">
                                <span>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ:</span>
                                <span class="card-stat-value">12</span>
                            </div>
                            <div class="card-stat">
                                <span>–†–∞–∑–º–µ—Ä:</span>
                                <span class="card-stat-value">1.3 GB</span>
                            </div>
                            <div class="card-stat">
                                <span>–û–±–Ω–æ–≤–ª–µ–Ω–æ:</span>
                                <span class="card-stat-value">3 —á–∞—Å–∞ –Ω–∞–∑–∞–¥</span>
                            </div>
                        </div>
                        <div class="card-actions">
                            <button class="btn-enhanced" onclick="viewFolder('business')">
                                üëÅÔ∏è –ü–†–û–°–ú–û–¢–†
                            </button>
                            <button class="btn-secondary-enhanced" onclick="manageFolder('business')">
                                ‚öôÔ∏è –£–ü–†–ê–í–õ–ï–ù–ò–ï
                            </button>
                        </div>
                    </div>

                    <!-- –ü–∞–ø–∫–∞ —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏—è -->
                    <div class="enhanced-card">
                        <div class="card-header">
                            <div class="card-icon">üéâ</div>
                            <h3 class="card-title">–†–ê–ó–í–õ–ï–ß–ï–ù–ò–Ø</h3>
                        </div>
                        <div class="card-stats">
                            <div class="card-stat">
                                <span>–í–∏–¥–µ–æ:</span>
                                <span class="card-stat-value">52</span>
                            </div>
                            <div class="card-stat">
                                <span>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ:</span>
                                <span class="card-stat-value">31</span>
                            </div>
                            <div class="card-stat">
                                <span>–†–∞–∑–º–µ—Ä:</span>
                                <span class="card-stat-value">2.7 GB</span>
                            </div>
                            <div class="card-stat">
                                <span>–û–±–Ω–æ–≤–ª–µ–Ω–æ:</span>
                                <span class="card-stat-value">30 –º–∏–Ω—É—Ç –Ω–∞–∑–∞–¥</span>
                            </div>
                        </div>
                        <div class="card-actions">
                            <button class="btn-enhanced" onclick="viewFolder('entertainment')">
                                üëÅÔ∏è –ü–†–û–°–ú–û–¢–†
                            </button>
                            <button class="btn-secondary-enhanced" onclick="manageFolder('entertainment')">
                                ‚öôÔ∏è –£–ü–†–ê–í–õ–ï–ù–ò–ï
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è -->
                <div style="text-align: center; margin-top: 30px;">
                    <button class="btn-enhanced" onclick="loadFolders()">
                        üîÑ –û–ë–ù–û–í–ò–¢–¨ –í–°–ï –ü–ê–ü–ö–ò
                    </button>
                    
                    <button class="btn-secondary-enhanced" onclick="cleanupContent()">
                        üßπ –û–ß–ò–°–¢–ö–ê –ù–ï–ò–°–ü–û–õ–¨–ó–£–ï–ú–û–ì–û
                    </button>
                    
                    <button class="btn-secondary-enhanced" onclick="exportContent()">
                        üì• –≠–ö–°–ü–û–†–¢ –ö–û–ù–¢–ï–ù–¢–ê
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScript -->
    <script src="/static/js/dashboard.js"></script>
    
    <script>
        console.log('üöÄ –ö–†–ê–°–ò–í–ê–Ø –°–¢–†–ê–ù–ò–¶–ê –ö–û–ù–¢–ï–ù–¢–ê –ó–ê–ì–†–£–ñ–ï–ù–ê!');

        function showMessage(message, type = 'success') {
            const successDiv = document.getElementById('successMessage');
            const errorDiv = document.getElementById('errorMessage');
            
            if (type === 'success') {
                successDiv.textContent = message;
                successDiv.style.display = 'block';
                errorDiv.style.display = 'none';
            } else {
                errorDiv.textContent = message;
                errorDiv.style.display = 'block';
                successDiv.style.display = 'none';
            }
            
            setTimeout(() => {
                successDiv.style.display = 'none';
                errorDiv.style.display = 'none';
            }, 5000);
        }

        // === –í–°–ï –†–ê–ë–û–ß–ò–ï –§–£–ù–ö–¶–ò–ò –°–û–•–†–ê–ù–ï–ù–´ ===

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤
        document.getElementById('videoFiles').addEventListener('change', handleFileUpload);

        function handleFileUpload(event) {
            const files = event.target.files;
            const category = document.getElementById('videoCategory').value;
            
            if (files.length === 0) return;
            
            console.log('–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤:', files.length, '–≤ –∫–∞—Ç–µ–≥–æ—Ä–∏—é:', category);
            showMessage(`–ù–∞—á–∏–Ω–∞–µ–º –∑–∞–≥—Ä—É–∑–∫—É ${files.length} —Ñ–∞–π–ª–æ–≤ –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏—é "${category}"`, 'success');
            
            const formData = new FormData();
            for (let file of files) {
                formData.append('videos', file);
            }
            formData.append('category', category);
            
            fetch('/api/content/upload', {
                method: 'POST',
                body: formData
            })
            .then(response => response.json())
            .then(data => {
                console.log('–†–µ–∑—É–ª—å—Ç–∞—Ç –∑–∞–≥—Ä—É–∑–∫–∏:', data);
                if (data.success) {
                    showMessage(`‚úÖ –£—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω–æ ${files.length} —Ñ–∞–π–ª–æ–≤!`, 'success');
                    loadFolders();
                } else {
                    showMessage('‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏: ' + (data.message || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞'), 'error');
                }
            })
            .catch(error => {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏:', error);
                showMessage('‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏: ' + error.message, 'error');
            });
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –ø–∞–ø–æ–∫
        function loadFolders() {
            console.log('–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞–ø–æ–∫...');
            showMessage('üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–∞–ø–∫–∞—Ö...', 'success');
            
            fetch('/api/content/folders')
                .then(response => response.json())
                .then(data => {
                    console.log('–ü–∞–ø–∫–∏ –∑–∞–≥—Ä—É–∂–µ–Ω—ã:', data);
                    showMessage('‚úÖ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–∞–ø–∫–∞—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∞', 'success');
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º —Å—á–µ—Ç—á–∏–∫–∏ –≤ –∫–∞—Ä—Ç–æ—á–∫–∞—Ö
                    updateFolderStats(data);
                })
                .catch(error => {
                    console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ø–∞–ø–æ–∫:', error);
                    showMessage('‚ùå –û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–∞–ø–æ–∫', 'error');
                });
        }

        function updateFolderStats(data) {
            // –õ–æ–≥–∏–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–∞–ø–æ–∫
            if (data && data.folders) {
                Object.keys(data.folders).forEach(folderName => {
                    const folder = data.folders[folderName];
                    console.log(`–ü–∞–ø–∫–∞ ${folderName}:`, folder);
                });
            }
        }

        // –ü—Ä–æ—Å–º–æ—Ç—Ä –ø–∞–ø–∫–∏
        function viewFolder(folderName) {
            console.log('–ü—Ä–æ—Å–º–æ—Ç—Ä –ø–∞–ø–∫–∏:', folderName);
            showMessage(`üìÅ –û—Ç–∫—Ä—ã–≤–∞–µ–º –ø–∞–ø–∫—É "${folderName}"...`, 'success');
            
            fetch(`/api/content/folder/${folderName}`)
                .then(response => response.json())
                .then(data => {
                    console.log('–°–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø–∞–ø–∫–∏:', data);
                    showMessage(`‚úÖ –ü–∞–ø–∫–∞ "${folderName}" —Å–æ–¥–µ—Ä–∂–∏—Ç ${data.videos?.length || 0} –≤–∏–¥–µ–æ`, 'success');
                })
                .catch(error => {
                    console.error('–û—à–∏–±–∫–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ø–∞–ø–∫–∏:', error);
                    showMessage('‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ø–∞–ø–∫–∏', 'error');
                });
        }

        // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–ø–∫–æ–π
        function manageFolder(folderName) {
            console.log('–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–ø–∫–æ–π:', folderName);
            showMessage(`‚öôÔ∏è –û—Ç–∫—Ä—ã–≤–∞–µ–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–ø–∫–æ–π "${folderName}"...`, 'success');
            
            // –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∏–ª–∏ –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
            if (confirm(`–•–æ—Ç–∏—Ç–µ –æ—á–∏—Å—Ç–∏—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –≤–∏–¥–µ–æ –∏–∑ –ø–∞–ø–∫–∏ "${folderName}"?`)) {
                cleanupFolder(folderName);
            }
        }

        function cleanupFolder(folderName) {
            console.log('–û—á–∏—Å—Ç–∫–∞ –ø–∞–ø–∫–∏:', folderName);
            showMessage(`üßπ –û—á–∏—â–∞–µ–º –ø–∞–ø–∫—É "${folderName}"...`, 'success');
            
            fetch(`/api/content/folder/${folderName}/cleanup`, {
                method: 'POST'
            })
            .then(response => response.json())
            .then(data => {
                console.log('–†–µ–∑—É–ª—å—Ç–∞—Ç –æ—á–∏—Å—Ç–∫–∏:', data);
                showMessage(`‚úÖ –û—á–∏—Å—Ç–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞: —É–¥–∞–ª–µ–Ω–æ ${data.removed || 0} —Ñ–∞–π–ª–æ–≤`, 'success');
                loadFolders();
            })
            .catch(error => {
                console.error('–û—à–∏–±–∫–∞ –æ—á–∏—Å—Ç–∫–∏:', error);
                showMessage('‚ùå –û—à–∏–±–∫–∞ –æ—á–∏—Å—Ç–∫–∏ –ø–∞–ø–∫–∏', 'error');
            });
        }

        // –û–±—â–∞—è –æ—á–∏—Å—Ç–∫–∞
        function cleanupContent() {
            console.log('–û–±—â–∞—è –æ—á–∏—Å—Ç–∫–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞...');
            if (!confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –æ—á–∏—Å—Ç–∏—Ç—å –≤–µ—Å—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç?')) return;
            
            showMessage('üßπ –í—ã–ø–æ–ª–Ω—è–µ–º –æ–±—â—É—é –æ—á–∏—Å—Ç–∫—É –∫–æ–Ω—Ç–µ–Ω—Ç–∞...', 'success');
            
            fetch('/api/content/cleanup', {
                method: 'POST'
            })
            .then(response => response.json())
            .then(data => {
                console.log('–†–µ–∑—É–ª—å—Ç–∞—Ç –æ–±—â–µ–π –æ—á–∏—Å—Ç–∫–∏:', data);
                showMessage(`‚úÖ –û–±—â–∞—è –æ—á–∏—Å—Ç–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞: –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–æ ${data.freed_space || '0 MB'}`, 'success');
                loadFolders();
            })
            .catch(error => {
                console.error('–û—à–∏–±–∫–∞ –æ–±—â–µ–π –æ—á–∏—Å—Ç–∫–∏:', error);
                showMessage('‚ùå –û—à–∏–±–∫–∞ –æ–±—â–µ–π –æ—á–∏—Å—Ç–∫–∏', 'error');
            });
        }

        // –≠–∫—Å–ø–æ—Ä—Ç –∫–æ–Ω—Ç–µ–Ω—Ç–∞
        function exportContent() {
            console.log('–≠–∫—Å–ø–æ—Ä—Ç –∫–æ–Ω—Ç–µ–Ω—Ç–∞...');
            showMessage('üì• –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —ç–∫—Å–ø–æ—Ä—Ç–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞...', 'success');
            
            fetch('/api/content/export', {
                method: 'POST'
            })
            .then(response => response.blob())
            .then(blob => {
                const url = window.URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `mediaflux_content_${new Date().toISOString().split('T')[0]}.zip`;
                a.click();
                window.URL.revokeObjectURL(url);
                showMessage('‚úÖ –≠–∫—Å–ø–æ—Ä—Ç –∑–∞–≤–µ—Ä—à–µ–Ω! –§–∞–π–ª –∑–∞–≥—Ä—É–∂–µ–Ω.', 'success');
            })
            .catch(error => {
                console.error('–û—à–∏–±–∫–∞ —ç–∫—Å–ø–æ—Ä—Ç–∞:', error);
                showMessage('‚ùå –û—à–∏–±–∫–∞ —ç–∫—Å–ø–æ—Ä—Ç–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞', 'error');
            });
        }

        // Drag & Drop –ø–æ–¥–¥–µ—Ä–∂–∫–∞
        const uploadZone = document.getElementById('uploadZone');
        
        uploadZone.addEventListener('dragover', (e) => {
            e.preventDefault();
            uploadZone.style.borderColor = 'var(--accent-color)';
            uploadZone.style.backgroundColor = 'rgba(6, 182, 212, 0.1)';
        });
        
        uploadZone.addEventListener('dragleave', (e) => {
            e.preventDefault();
            uploadZone.style.borderColor = 'var(--primary-color)';
            uploadZone.style.backgroundColor = 'var(--bg-primary)';
        });
        
        uploadZone.addEventListener('drop', (e) => {
            e.preventDefault();
            uploadZone.style.borderColor = 'var(--primary-color)';
            uploadZone.style.backgroundColor = 'var(--bg-primary)';
            
            const files = e.dataTransfer.files;
            if (files.length > 0) {
                document.getElementById('videoFiles').files = files;
                handleFileUpload({ target: { files } });
            }
        });

        // –ê–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üé¨ –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞');
            loadFolders();
        });
    </script>
</body>
</html> 