<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MediaFlux Hub - Instagram Reels Automation</title>
    <link rel="stylesheet" href="/static/css/main.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="app-container">
        <!-- Sidebar Navigation -->
        <nav class="sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <i class="fas fa-video"></i>
                    <h2>MediaFlux Hub</h2>
                </div>
            </div>
            
            <div class="sidebar-menu">
                <a href="#dashboard" class="menu-item active" data-page="dashboard">
                    <i class="fas fa-chart-line"></i>
                    <span>Dashboard</span>
                </a>
                <a href="#accounts" class="menu-item" data-page="accounts">
                    <i class="fas fa-users"></i>
                    <span>–ê–∫–∫–∞—É–Ω—Ç—ã</span>
                    <span class="badge" id="accounts-count">0</span>
                </a>
                <a href="#content" class="menu-item" data-page="content">
                    <i class="fas fa-folder-open"></i>
                    <span>–ö–æ–Ω—Ç–µ–Ω—Ç</span>
                    <span class="badge" id="content-count">0</span>
                </a>
                <a href="#scheduler" class="menu-item" data-page="scheduler">
                    <i class="fas fa-calendar-alt"></i>
                    <span>–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫</span>
                </a>
                <a href="#analytics" class="menu-item" data-page="analytics">
                    <i class="fas fa-chart-bar"></i>
                    <span>–ê–Ω–∞–ª–∏—Ç–∏–∫–∞</span>
                </a>
                <a href="#proxies" class="menu-item" data-page="proxies">
                    <i class="fas fa-shield-alt"></i>
                    <span>–ü—Ä–æ–∫—Å–∏</span>
                    <span class="badge" id="proxies-count">0</span>
                </a>
                <a href="#settings" class="menu-item" data-page="settings">
                    <i class="fas fa-cog"></i>
                    <span>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</span>
                </a>
            </div>
            
            <div class="sidebar-footer">
                <div class="system-status">
                    <div class="status-indicator" id="system-status">
                        <span class="status-dot online"></span>
                        <span>Online</span>
                    </div>
                </div>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Header -->
            <header class="header">
                <div class="header-left">
                    <h1 id="page-title">Dashboard</h1>
                    <span class="breadcrumb">–ì–ª–∞–≤–Ω–∞—è / Dashboard</span>
                </div>
                <div class="header-right">
                    <button class="btn btn-primary" id="start-automation">
                        <i class="fas fa-play"></i>
                        –ó–∞–ø—É—Å—Ç–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—é
                    </button>
                    <div class="user-profile">
                        <i class="fas fa-user"></i>
                        <span>Administrator</span>
                    </div>
                </div>
            </header>

            <!-- Dashboard Content -->
            <div class="content" id="dashboard-content">
                <!-- Stats Cards -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="total-accounts">0</h3>
                            <p>–ê–∫—Ç–∏–≤–Ω—ã—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤</p>
                            <span class="stat-change positive">+5 –∑–∞ —Å–µ–≥–æ–¥–Ω—è</span>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-video"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="total-posts">0</h3>
                            <p>–û–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ —Å–µ–≥–æ–¥–Ω—è</p>
                            <span class="stat-change positive">+12 –∑–∞ —Å–µ–≥–æ–¥–Ω—è</span>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="scheduled-posts">0</h3>
                            <p>–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ</p>
                            <span class="stat-change">–ù–∞ –∑–∞–≤—Ç—Ä–∞</span>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-eye"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="total-views">0</h3>
                            <p>–ü—Ä–æ—Å–º–æ—Ç—Ä–æ–≤</p>
                            <span class="stat-change positive">+2.5K –∑–∞ —Å–µ–≥–æ–¥–Ω—è</span>
                        </div>
                    </div>
                </div>

                <!-- Action Cards -->
                <div class="action-grid">
                    <div class="action-card">
                        <div class="action-header">
                            <h3>–ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è</h3>
                        </div>
                        <div class="action-buttons">
                            <button class="action-btn" id="add-account">
                                <i class="fas fa-plus"></i>
                                <span>–î–æ–±–∞–≤–∏—Ç—å –∞–∫–∫–∞—É–Ω—Ç</span>
                            </button>
                            <button class="action-btn" id="upload-content">
                                <i class="fas fa-upload"></i>
                                <span>–ó–∞–≥—Ä—É–∑–∏—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç</span>
                            </button>
                            <button class="action-btn" id="create-schedule">
                                <i class="fas fa-calendar-plus"></i>
                                <span>–°–æ–∑–¥–∞—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ</span>
                            </button>
                        </div>
                    </div>
                    
                    <div class="activity-card">
                        <div class="activity-header">
                            <h3>–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã</h3>
                            <button class="refresh-btn" id="refresh-activity">
                                <i class="fas fa-sync-alt"></i>
                            </button>
                        </div>
                        <div class="activity-list" id="activity-list">
                            <div class="activity-item">
                                <div class="activity-icon success">
                                    <i class="fas fa-check"></i>
                                </div>
                                <div class="activity-content">
                                    <p>–ü—É–±–ª–∏–∫–∞—Ü–∏—è –≤ @account1 —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∞</p>
                                    <small>2 –º–∏–Ω—É—Ç—ã –Ω–∞–∑–∞–¥</small>
                                </div>
                            </div>
                            <div class="activity-item">
                                <div class="activity-icon info">
                                    <i class="fas fa-clock"></i>
                                </div>
                                <div class="activity-content">
                                    <p>–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏—è –Ω–∞ 14:30</p>
                                    <small>5 –º–∏–Ω—É—Ç –Ω–∞–∑–∞–¥</small>
                                </div>
                            </div>
                            <div class="activity-item">
                                <div class="activity-icon warning">
                                    <i class="fas fa-exclamation-triangle"></i>
                                </div>
                                <div class="activity-content">
                                    <p>–ü—Ä–æ–∫—Å–∏ server1 —Ç—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏</p>
                                    <small>10 –º–∏–Ω—É—Ç –Ω–∞–∑–∞–¥</small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Charts Section -->
                <div class="charts-section">
                    <div class="chart-card">
                        <div class="chart-header">
                            <h3>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–π</h3>
                            <select class="chart-filter">
                                <option value="7d">7 –¥–Ω–µ–π</option>
                                <option value="30d">30 –¥–Ω–µ–π</option>
                                <option value="90d">90 –¥–Ω–µ–π</option>
                            </select>
                        </div>
                        <div class="chart-content">
                            <canvas id="postsChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Other Page Contents (hidden by default) -->
            <div class="content hidden" id="accounts-content">
                <h2>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞–º–∏</h2>
                <p>–ó–¥–µ—Å—å –±—É–¥–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è Instagram –∞–∫–∫–∞—É–Ω—Ç–∞–º–∏</p>
            </div>

            <div class="content hidden" id="content-content">
                <h2>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º</h2>
                <p>–ó–¥–µ—Å—å –±—É–¥–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–∏–¥–µ–æ –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º</p>
            </div>

            <div class="content hidden" id="scheduler-content">
                <h2>–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –ø—É–±–ª–∏–∫–∞—Ü–∏–π</h2>
                <p>–ó–¥–µ—Å—å –±—É–¥–µ—Ç –∫–∞–ª–µ–Ω–¥–∞—Ä—å –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è</p>
            </div>

            <div class="content hidden" id="analytics-content">
                <h2>–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –æ—Ç—á–µ—Ç—ã</h2>
                <p>–ó–¥–µ—Å—å –±—É–¥—É—Ç –¥–µ—Ç–∞–ª—å–Ω—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</p>
            </div>

            <div class="content hidden" id="proxies-content">
                <h2>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–∫—Å–∏</h2>
                <p>–ó–¥–µ—Å—å –±—É–¥–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–∫—Å–∏ —Å–µ—Ä–≤–µ—Ä–æ–≤</p>
            </div>

            <div class="content hidden" id="settings-content">
                <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏—Å—Ç–µ–º—ã</h2>
                <p>–ó–¥–µ—Å—å –±—É–¥—É—Ç –æ–±—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ MediaFlux Hub</p>
            </div>
        </main>
    </div>

    <!-- Loading Overlay -->
    <div class="loading-overlay hidden" id="loading-overlay">
        <div class="loading-spinner">
            <i class="fas fa-spinner fa-spin"></i>
            <p>–ó–∞–≥—Ä—É–∑–∫–∞...</p>
        </div>
    </div>

    <!-- Notification Container -->
    <div class="notification-container" id="notification-container"></div>

    <!-- JavaScript -->
    <script src="/static/js/dashboard.js"></script>
    
    <!-- Debug script –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –Ω–∞ production -->
    <script>
        console.log("üîç MediaFlux Hub Debug Info:");
        console.log("üìÑ HTML loaded");
        console.log("üéØ Start automation button:", document.getElementById('start-automation'));
        console.log("‚ûï Add account button:", document.getElementById('add-account'));
        console.log("üìÅ Upload content button:", document.getElementById('upload-content'));
        console.log("üìÖ Create schedule button:", document.getElementById('create-schedule'));
        
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ JavaScript —Ñ–∞–π–ª –∑–∞–≥—Ä—É–∑–∏–ª—Å—è
        if (typeof MediaFluxDashboard !== 'undefined') {
            console.log("‚úÖ Dashboard JavaScript loaded successfully");
        } else {
            console.error("‚ùå Dashboard JavaScript failed to load");
        }
        
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º API endpoints
        fetch('/health')
            .then(response => response.json())
            .then(data => console.log("‚úÖ Health check API:", data))
            .catch(error => console.error("‚ùå Health check API failed:", error));
            
        fetch('/debug')
            .then(response => response.json())
            .then(data => console.log("üîç Debug info:", data))
            .catch(error => console.error("‚ùå Debug API failed:", error));
    </script>
</body>
</html> 